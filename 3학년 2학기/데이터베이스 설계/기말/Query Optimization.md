- ** 쿼리 최적화**
	- <span style="background:#ff4d4f">주어진 쿼리를 가장 효율적으로 처리하기 위한 전략을 찾는 과정</span>
	- Relation Algebra Level
		- 주어진 표현식과 **동등한 표현식** 생성 후 가장 비용이 적은 계획을 선택
	- Detailed Strategy
		- 쿼리의 처리 위해 사용할 **알고리즘, 특정 인덱스** 선택
	- **평가 계획**
		- 각 작업에 사용되는 정확한 알고리즘과 작업의 실행이 어떻게 조정되는지 정의
	- **비용 기반 쿼리 최적화의 과정**
		1. 동등성 규칙을 사용해 논리적으로 동등한 표현식 생성
		2. 대체 쿼리 계획을 얻기 위해 예상 비용에 따라 표현식에 주석 추가
		3. 추정 비용에 기반하여 가장 저렴한 계획 선택
- 관계식의 변환
	- **동등한** 표현식으로 변환 하는 것
		- 이는 모든 DBMS에서 동일한 튜플 집합을 생성한다는 것을 의미
	- **등가규칙** 
		- 두 형태의 표현식이 동등한 것
		- 첫번째 형태의 표현식을 두번째 형태로 대체, Vice Versa 
		- ![[Pasted image 20231207202019.png]]
	- 등가규칙의 종류
	1. Select 분해 가능
	2. Select 교환 법칙
	3. Proj은 마지막만 필요, 나머지 생략 가능
	4. Select 
	   a. Cartesian 결합 법칙
	   b. Theta 결합 법칙
	5. Theta, Natural 교환 법칙
	6. a. Natural 결합 법칙
	   b. Theta 결합 법칙
	7. Select의 Theta대한 분배 법칙
	   a. ø<sub>0</sub> 의 모든 속성이 E1에 속하는 속성들로만 구성
	   b. ø<sub>1</sub>이 E1의 속성들로만 구성되고, ø<sub>2</sub>가 E2의 속성들로만 구성
	8. Proj의 Theta에 대한 분배 법칙
		a. ø의 모든 속성이 L1 U L2에 속할때
		b. L3 = E1 - L1 - L2, L4 = E2 - L1 - L2
	9. 합집합과 교집합 교환법칙
	10. 합집합과 교집합 결합법칙
	11. Select 합집합, 교집합, 차집합 분배법칙
	12. Proj 합집합 분배법칙
	- 최소 동등성 규칙 집합
		- 동등성 규칙 집합이 **최소**일 경우, 다른 규칙의 조합에서 어떤 규칙도 유도될 수 없음
		- 예를 들어, 7.b는 규칙1과 7.a에서 유도될 수 있기에 최소한의 동등성 규칙 집합이 아님
		- 비최소 동등성 규칙 집합을 이용하면 표현식 생성 방법 수 증가
		- 쿼리 옵티마이저는 최소 동등성 규칙 집합 사용
- 비용 추정
	- 쿼리 평가 계획의 비용은 통계 정보를 기반으로 추정됨
	- 통계 정보
		- 관계에 대한 통계적 정보
			- 튜플 수, 속성의 고유한 값 수와 같은 관계에 대한 통계적 정보를 사용해 비용 추정
		- 중간 결과에 대한 통계적 추정
			- 복잡한 표현식의 비용을 계산하기 위해 중간 결과에 대한 통계적 추정 수행
		- 통계를 사용해 알고리즘의 비용을 계산하는 비용 공식